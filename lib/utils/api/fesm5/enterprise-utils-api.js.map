{"version":3,"file":"enterprise-utils-api.js","sources":["ng://@enterprise/utils/api/lib/api.service.ts","ng://@enterprise/utils/api/lib/api.component.ts","ng://@enterprise/utils/api/lib/api.module.ts"],"sourcesContent":["import { Injectable, InjectionToken, Inject } from '@angular/core';\nimport { HttpClient, HttpParams, HttpHeaders } from '@angular/common/http';\nimport { Observable } from 'rxjs';\n\nexport const IDomainURLService = new InjectionToken<string>('domain');\n\n@Injectable({ providedIn: 'root' })\nexport class ApiService {\n  constructor(\n    private readonly httpclient: HttpClient,\n    @Inject(IDomainURLService) private readonly domainURL: string) { }\n\n  request<T>(method: 'post' | 'get' | 'put' | 'delete', url: string, options: {\n    body?: any;\n    headers?: HttpHeaders | {\n      [header: string]: string | string[];\n    };\n    observe?: 'body';\n    params?: HttpParams | {\n      [param: string]: string | string[];\n    };\n    reportProgress?: boolean;\n    responseType: 'arraybuffer' | 'blob' | 'json' | 'text';\n    withCredentials?: boolean;\n  },         isAuth: boolean): Observable<T> {\n    if (isAuth) {\n      // set header\n    }\n    const actualURL = `${this.domainURL}/${url}`;\n    return this.httpclient.request(method, actualURL, options) as Observable<T>;\n  }\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'lib-api',\n  template: `\n    <p>\n      api works!\n    </p>\n  `,\n  styles: []\n})\nexport class ApiComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { ApiComponent } from './api.component';\nimport { ApiService, IDomainURLService } from './api.service';\n\n\n\n@NgModule({\n  declarations: [ApiComponent],\n  imports: [\n  ],\n  exports: [ApiComponent]\n})\nexport class ApiModule {\n  static forRoot(domainurl: string): ModuleWithProviders {\n    return {\n      ngModule: ApiModule,\n      providers: [ApiService,\n        {\n          provide: IDomainURLService,\n          useValue: domainurl\n        }]\n    };\n  }\n}\n"],"names":[],"mappings":";;;;;;;;AAAA;AAIA,IAAa,iBAAiB,GAAG,IAAI,cAAc,CAAS,QAAQ,CAAC;AAErE;IAEE,oBACmB,UAAsB,EACK,SAAiB;QAD5C,eAAU,GAAV,UAAU,CAAY;QACK,cAAS,GAAT,SAAS,CAAQ;KAAK;;;;;;;;;IAEpE,4BAAO;;;;;;;;IAAP,UAAW,MAAyC,EAAE,GAAW,EAAE,OAYlE,EAAU,MAAe;QACxB,IAAI,MAAM,EAAE;;SAEX;;YACK,SAAS,GAAM,IAAI,CAAC,SAAS,SAAI,GAAK;QAC5C,0BAAO,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,MAAM,EAAE,SAAS,EAAE,OAAO,CAAC,GAAkB;KAC7E;;gBAxBF,UAAU,SAAC,EAAE,UAAU,EAAE,MAAM,EAAE;;;;gBALzB,UAAU;6CASd,MAAM,SAAC,iBAAiB;;;qBAV7B;CAMA,IAyBC;;;;;;IAtBG,gCAAuC;;;;;IACvC,+BAA6D;;;;;;;;ACVjE;IAaE;KAAiB;;;;IAEjB,+BAAQ;;;IAAR;KACC;;gBAdF,SAAS,SAAC;oBACT,QAAQ,EAAE,SAAS;oBACnB,QAAQ,EAAE,2CAIT;iBAEF;;;;IAQD,mBAAC;CAhBD;;;;;;;ACFA;IAMA;KAiBC;;;;;IAVQ,iBAAO;;;;IAAd,UAAe,SAAiB;QAC9B,OAAO;YACL,QAAQ,EAAE,SAAS;YACnB,SAAS,EAAE,CAAC,UAAU;gBACpB;oBACE,OAAO,EAAE,iBAAiB;oBAC1B,QAAQ,EAAE,SAAS;iBACpB,CAAC;SACL,CAAC;KACH;;gBAhBF,QAAQ,SAAC;oBACR,YAAY,EAAE,CAAC,YAAY,CAAC;oBAC5B,OAAO,EAAE,EACR;oBACD,OAAO,EAAE,CAAC,YAAY,CAAC;iBACxB;;IAYD,gBAAC;CAjBD;;;;;;;;;;;;;;;;"}